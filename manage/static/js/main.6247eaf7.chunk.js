(this["webpackJsonpgardening-manage"]=this["webpackJsonpgardening-manage"]||[]).push([[0],[,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var i=n(1),a=n(7),s=n.n(a),o=(n(12),n(13),n(14),n(15),n(2)),c=n(3),d=n(5),p=n(4),r=n(0),u=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={newTipContent:""},t.getClassName=function(t){return t?"popup-manage-box hidden":"popup-manage-box visible"},t.handleContentChange=function(e){t.setState({newTipContent:e.target.value})},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.editTip,i=e.isHidden,a=e.tipID,s=e.tipCurContent,o=e.hideEditPopup;return Object(r.jsxs)("div",{className:this.getClassName(i),children:[Object(r.jsx)("div",{className:"close-popup-manage-box",onClick:function(){return o()},children:"X"}),Object(r.jsx)("h2",{className:"popup-manage-box-title",children:"Edytuj porad\u0119"}),Object(r.jsx)("textarea",{id:"new-tip-content",rows:"7",cols:"40",defaultValue:s,onChange:this.handleContentChange}),Object(r.jsx)("div",{className:"submit-button",onClick:function(){n(a,t.state.newTipContent),o()},children:"Edytuj"})]})}}]),n}(i.Component),l=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={isEditPopupHidden:!0},t.showEditPopup=function(){t.setState({isEditPopupHidden:!1})},t.hideEditPopup=function(){t.setState({isEditPopupHidden:!0})},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.id,i=e.content,a=e.onDeleteTip,s=e.onEditTip;return Object(r.jsxs)("div",{className:"tip",children:[Object(r.jsx)("div",{className:"tip-content",children:i}),Object(r.jsxs)("div",{className:"flex-row",children:[Object(r.jsx)("div",{className:"manage-button delete",onClick:function(){return a(n)},children:"Usu\u0144"}),Object(r.jsx)("div",{className:"manage-button edit",onClick:function(){return t.showEditPopup()},children:"Edytuj"})]}),Object(r.jsx)(u,{editTip:s,tipID:n,tipCurContent:i,isHidden:this.state.isEditPopupHidden,hideEditPopup:this.hideEditPopup})]})}}]),n}(i.Component),h=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={newTipContent:""},t.handleContentChange=function(e){t.setState({newTipContent:e.target.value})},t.getClassName=function(t){return t?"popup-manage-box hidden":"popup-manage-box visible"},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.addTip,i=e.hidden,a=e.hideTipAddPopup;return Object(r.jsxs)("div",{className:this.getClassName(i),children:[Object(r.jsx)("div",{className:"close-popup-manage-box",onClick:function(){return a()},children:"X"}),Object(r.jsx)("h2",{className:"popup-manage-box-title",children:"Dodaj porad\u0119"}),Object(r.jsx)("textarea",{id:"new-tip-content",rows:"7",cols:"40",onChange:this.handleContentChange}),Object(r.jsx)("div",{className:"submit-button",onClick:function(){return n(t.state.newTipContent)},children:"Dodaj"})]})}}]),n}(i.Component),j=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={tips:[],isAddPopupHidden:!0,APIaddress:"https://gardeningapi.epizy.com/API"},t.componentDidMount=function(){t.loadTipsFromDB()},t.loadTipsFromDB=function(){fetch("".concat(t.state.APIaddress,"/tips/getAll.php")).then((function(t){return t.json()})).then((function(e){t.setState({tips:e})}))},t.handleTipDelete=function(e){var n=t.state.tips.filter((function(t){return t.id!==e}));fetch("".concat(t.state.APIaddress,"/tips/delete.php?tipID=").concat(e)).then((function(){t.setState({tips:n})}))},t.handleTipEdit=function(e,n){t.setState({isEditPopupHidden:!0}),""!==n&&fetch("".concat(t.state.APIaddress,"/tips/edit.php?tipID=").concat(e,"&newContent=").concat(n)).then((function(){t.loadTipsFromDB()}))},t.handleTipAdd=function(e){t.setState({isAddPopupHidden:!0}),""!==e&&fetch("".concat(t.state.APIaddress,"/tips/add.php?tipContent=").concat(e)).then((function(){t.loadTipsFromDB()}))},t.hideTipAddPopup=function(){t.setState({isAddPopupHidden:!0})},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"manage-tips flex-column",children:[Object(r.jsxs)("div",{className:"manage-section-header flex-row",children:[Object(r.jsx)("h1",{className:"manage-section-title",children:"Przydatne porady"}),Object(r.jsx)("div",{className:"manage-button add",onClick:function(){t.setState({isAddPopupHidden:!1})},children:"Dodaj porad\u0119"})]}),this.state.tips.map((function(e){return Object(r.jsx)(l,{id:e.id,content:e.content,onDeleteTip:t.handleTipDelete,onEditTip:t.handleTipEdit},e.id)}))]}),Object(r.jsx)(h,{addTip:this.handleTipAdd,hidden:this.state.isAddPopupHidden,hideTipAddPopup:this.hideTipAddPopup})]})}}]),n}(i.Component),b=function(){return Object(r.jsx)("main",{className:"main-container",children:Object(r.jsx)(j,{})})};s.a.render(Object(r.jsx)(b,{}),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.6247eaf7.chunk.js.map