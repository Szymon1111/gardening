{"version":3,"sources":["components/common/tipEditPopup.jsx","components/common/tip.jsx","components/common/tipAddPopup.jsx","components/tips.jsx","App.js","index.js"],"names":["TipEditPopup","state","newTipContent","getClassName","hidden","handleContentChange","e","setState","target","value","this","props","editTip","isHidden","tipID","tipCurContent","hideEditPopup","className","id","rows","cols","defaultValue","onChange","onClick","Component","Tip","isEditPopupHidden","showEditPopup","content","onDeleteTip","onEditTip","TipAddPopup","addTip","Tips","tips","isAddPopupHidden","componentDidMount","loadTipsFromDB","fetch","then","res","json","handleTipDelete","filter","t","handleTipEdit","handleTipAdd","map","tip","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c65ef129.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nclass TipEditPopup extends Component {\r\n  state = { newTipContent: \"\" };\r\n\r\n  getClassName = (hidden) => {\r\n    return hidden ? \"popup-manage-box hidden\" : \"popup-manage-box visible\";\r\n  };\r\n\r\n  handleContentChange = (e) => {\r\n    this.setState({ newTipContent: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      editTip,\r\n      isHidden,\r\n      tipID,\r\n      tipCurContent,\r\n      hideEditPopup,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className={this.getClassName(isHidden)}>\r\n        <h2 className=\"popup-manage-box-title\">Edytuj poradę</h2>\r\n        <textarea\r\n          id=\"new-tip-content\"\r\n          rows=\"7\"\r\n          cols=\"40\"\r\n          defaultValue={tipCurContent}\r\n          onChange={this.handleContentChange}\r\n        ></textarea>\r\n        <div\r\n          className=\"submit-button\"\r\n          onClick={() => {\r\n            editTip(tipID, this.state.newTipContent);\r\n            hideEditPopup();\r\n          }}\r\n        >\r\n          Edytuj\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TipEditPopup;\r\n","import React, { Component } from \"react\";\r\nimport TipEditPopup from \"./tipEditPopup\";\r\n\r\nclass Tip extends Component {\r\n  state = {\r\n    isEditPopupHidden: true,\r\n  };\r\n\r\n  showEditPopup = () => {\r\n    this.setState({ isEditPopupHidden: false });\r\n  };\r\n\r\n  hideEditPopup = () => {\r\n    this.setState({ isEditPopupHidden: true });\r\n  };\r\n\r\n  render() {\r\n    const { id, content, onDeleteTip, onEditTip } = this.props;\r\n\r\n    return (\r\n      <div className=\"tip\">\r\n        <div className=\"tip-content\">{content}</div>\r\n        <div className=\"flex-row\">\r\n          <div className=\"manage-button delete\" onClick={() => onDeleteTip(id)}>\r\n            Usuń\r\n          </div>\r\n          <div\r\n            className=\"manage-button edit\"\r\n            onClick={() => this.showEditPopup()}\r\n          >\r\n            Edytuj\r\n          </div>\r\n        </div>\r\n\r\n        <TipEditPopup\r\n          editTip={onEditTip}\r\n          tipID={id}\r\n          tipCurContent={content}\r\n          isHidden={this.state.isEditPopupHidden}\r\n          hideEditPopup={this.hideEditPopup}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tip;\r\n","import React, { Component } from \"react\";\r\n\r\nclass TipAddPopup extends Component {\r\n  state = {\r\n    newTipContent: \"\",\r\n  };\r\n\r\n  handleContentChange = (e) => {\r\n    this.setState({ newTipContent: e.target.value });\r\n  };\r\n\r\n  getClassName = (hidden) => {\r\n    return hidden ? \"popup-manage-box hidden\" : \"popup-manage-box visible\";\r\n  };\r\n\r\n  render() {\r\n    const { addTip, hidden } = this.props;\r\n\r\n    return (\r\n      <div className={this.getClassName(hidden)}>\r\n        <h2 className=\"popup-manage-box-title\">Dodaj poradę</h2>\r\n        <textarea\r\n          id=\"new-tip-content\"\r\n          rows=\"7\"\r\n          cols=\"40\"\r\n          onChange={this.handleContentChange}\r\n        ></textarea>\r\n        <div\r\n          className=\"submit-button\"\r\n          onClick={() => addTip(this.state.newTipContent)}\r\n        >\r\n          Dodaj\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TipAddPopup;\r\n","import React, { Component } from \"react\";\r\nimport Tip from \"./common/tip\";\r\nimport TipAddPopup from \"./common/tipAddPopup\";\r\n\r\nclass Tips extends Component {\r\n  state = {\r\n    tips: [],\r\n    isAddPopupHidden: true,\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.loadTipsFromDB();\r\n  };\r\n\r\n  loadTipsFromDB = () => {\r\n    fetch(`http://localhost/gardening/API/tips/getAll.php`)\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((res) => {\r\n        this.setState({ tips: res });\r\n      });\r\n  };\r\n\r\n  handleTipDelete = (tipID) => {\r\n    const tips = this.state.tips.filter((t) => t.id !== tipID);\r\n    fetch(`http://localhost/gardening/API/tips/delete.php?tipID=${tipID}`).then(\r\n      () => {\r\n        this.setState({ tips });\r\n      }\r\n    );\r\n  };\r\n\r\n  handleTipEdit = (tipID, content) => {\r\n    this.setState({ isEditPopupHidden: true });\r\n\r\n    if (content === \"\") {\r\n      return;\r\n    }\r\n\r\n    fetch(\r\n      `http://localhost/gardening/API/tips/edit.php?tipID=${tipID}&newContent=${content}`\r\n    ).then(() => {\r\n      this.loadTipsFromDB();\r\n    });\r\n  };\r\n\r\n  handleTipAdd = (content) => {\r\n    this.setState({ isAddPopupHidden: true });\r\n\r\n    if (content === \"\") {\r\n      return;\r\n    }\r\n\r\n    fetch(\r\n      `http://localhost/gardening/API/tips/add.php?tipContent=${content}`\r\n    ).then(() => {\r\n      this.loadTipsFromDB();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"manage-tips flex-column\">\r\n          <div className=\"manage-section-header flex-row\">\r\n            <h1 className=\"manage-section-title\">Przydatne porady</h1>\r\n            <div\r\n              className=\"manage-button add\"\r\n              onClick={() => {\r\n                this.setState({ isAddPopupHidden: false });\r\n              }}\r\n            >\r\n              Dodaj poradę\r\n            </div>\r\n          </div>\r\n\r\n          {this.state.tips.map((tip) => (\r\n            <Tip\r\n              key={tip.id}\r\n              id={tip.id}\r\n              content={tip.content}\r\n              onDeleteTip={this.handleTipDelete}\r\n              onEditTip={this.handleTipEdit}\r\n            />\r\n          ))}\r\n        </div>\r\n\r\n        <TipAddPopup\r\n          addTip={this.handleTipAdd}\r\n          hidden={this.state.isAddPopupHidden}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tips;\r\n","import './App.css';\nimport React from 'react';\n\nimport Tips from './components/tips.jsx';\n\nconst App = () => {\n  return (\n    <main className='main-container'>\n      <Tips/>\n    </main>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport \"./css/manage.css\";\nimport \"./css/tips-manage.css\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}